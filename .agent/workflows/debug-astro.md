---
description: Пошаговый процесс отладки проекта Astro с использованием специализированного навыка
---

# Отладка Astro (Debug Astro)

Используйте этот воркфлоу, когда в проекте возникают ошибки сборки, проблемы с гидратацией или некорректное поведение компонентов.

## 1. Подготовка контекста

- [ ] Соберите информацию об ошибке: сообщение в терминале или консоли браузера.
- [ ] Загрузите навык отладки: `mcp_skillport_load_skill(skill_id=".agent/skills/debug-astro-site")`.

### 2. Запуск диагностики (по шагам навыка)

- [ ] **Шаг 2.1: Проверка конфигурации**
  - Изучите `astro.config.mjs` и `package.json`.
- [ ] **Шаг 2.2: Анализ логов**
  - Проверьте вывод команды `npm run dev`.
- [ ] **Шаг 2.3: Проверка SSR**
  - Убедитесь, что браузерные API не вызываются на стороне сервера.
- [ ] **Шаг 2.4: Исследование ошибки (Context7)**
  - Если причина не ясна, используйте `mcp_context7` с текстом ошибки для поиска решений и best practices.

### 3. Исправление и очистка

- [ ] Примените исправления в коде.
- [ ] Очистите кэш Astro:

    ```bash
    rm -rf .astro
    ```

- [ ] Перезапустите сервер разработки.

### 4. Финальная проверка

- [ ] Запустите `npx astro check` для проверки типов.
- [ ] Убедитесь, что ошибка исчезла в браузере.
