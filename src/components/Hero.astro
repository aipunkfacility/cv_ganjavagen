---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---
<section class="hero">
	<div class="container hero-grid">
		<div class="hero-content reveal">
			<h1 class="hero-title">
				{t('hero.title').split(' ').slice(0, 1)}<br/>
				<span class="accent-text gradient-text">{t('hero.title').split(' ').slice(1, 2)}</span><br/>
				{t('hero.title').split(' ').slice(2).join(' ')}
			</h1>
			<p class="hero-description">
				{t('hero.desc')}
			</p>
            <div class="hero-actions">
                <a href="#contact" class="cta-button">{lang === 'ru' ? 'Связаться' : 'Contact Me'}</a>
            </div>
		</div>
		<div class="hero-image-wrapper reveal" style="animation-delay: 0.2s;">
			<div class="image-inner">
                <img src={`${import.meta.env.BASE_URL.replace(/\/$/, '')}/hero.webp`} alt="Alexander Finaev" class="hero-portrait" width="1500" height="2000" decoding="async" loading="eager" />
                <div class="hero-decoration"></div>
            </div>
		</div>
	</div>
</section>

<style>
	.hero-grid {
		display: grid;
		grid-template-columns: 1.1fr 0.9fr;
		gap: 6rem;
		align-items: center;
	}

	.hero-title {
		font-size: clamp(3rem, 6vw, 5.5rem);
		text-transform: uppercase;
		margin-bottom: 2.5rem;
		letter-spacing: -0.03em;
		line-height: 0.95;
        color: var(--color-text);
	}

	.accent-text {
		color: var(--color-accent);
	}

    .gradient-text {
        background: linear-gradient(135deg, var(--color-accent), var(--color-detail));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

	.hero-description {
		font-size: clamp(1rem, 1.5vw, 1.3rem);
		margin-bottom: 3rem;
		max-width: 540px;
		color: var(--color-text-muted);
		border-left: 4px solid var(--color-accent);
		padding-left: 2.5rem;
		line-height: 1.7;
	}

    .hero-actions {
        margin-top: 1rem;
    }

	.hero-image-wrapper {
		position: relative;
		display: flex;
		justify-content: center;
        perspective: 1000px;
	}

    .image-inner {
        position: relative;
        transition: transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .image-inner:hover {
        transform: scale(1.02) rotateY(-5deg);
    }

	.hero-portrait {
		width: auto;
		max-width: 100%;
		max-height: 80vh;
		object-fit: contain;
		display: block;
		filter: drop-shadow(0 20px 40px rgba(0,0,0,0.15));
        border-radius: 8px;
	}

	.hero-decoration {
		position: absolute;
		top: -30px;
		right: -30px;
		width: 160px;
		height: 160px;
		border-top: 2px solid var(--color-accent);
		border-right: 2px solid var(--color-accent);
		opacity: 0.15;
        z-index: -1;
	}

	@media (max-width: 1024px) {
		.hero-grid {
            gap: 3rem;
        }
	}

	@media (max-width: 768px) {
		.hero-grid {
			grid-template-columns: 1fr;
			gap: 3rem;
			text-align: center;
		}

		.hero-title {
			margin-bottom: 1.5rem;
		}

		.hero-description {
			margin: 0 auto 2.5rem;
			padding: 1.5rem 0 0;
			border-left: none;
			border-top: 2px solid var(--color-accent);
		}

		.hero-portrait {
			max-height: 50vh;
		}
		
		.hero-decoration {
			display: none;
		}
	}
</style>
